<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>æ›¼è°·å®¶åº­äº”æ—¥éŠ | AI æ™ºæ…§ç‰ˆ</title>
    
    <!-- PWA è¨­å®š -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="theme-color" content="#0d9488">
    <link rel="apple-touch-icon" href="https://cdn-icons-png.flaticon.com/512/3063/3063822.png">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <!-- Markdown Parser (for AI response) -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

    <style>
        body { 
            font-family: 'Noto Sans TC', sans-serif; 
            -webkit-tap-highlight-color: transparent; 
            padding-bottom: 6rem; 
            background-color: #f8fafc;
            color: #334155;
        }
        
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        
        .timeline-line::before { 
            content: ''; 
            position: absolute; 
            top: 10px; 
            bottom: -10px; 
            left: 19px; 
            width: 2px; 
            background: #cbd5e1; 
            z-index: 0; 
        }
        .timeline-item:last-child .timeline-line::before { display: none; }

        .tab-content { display: none; animation: fadeIn 0.3s ease-out; }
        .tab-content.active { display: block; }
        @keyframes fadeIn { 
            from { opacity: 0; transform: translateY(5px); } 
            to { opacity: 1; transform: translateY(0); } 
        }
        
        .nav-item { color: #94a3b8; transition: all 0.2s; }
        .nav-item.active { color: #0d9488; }
        .nav-item.active i { transform: translateY(-2px); }
        .nav-item.active span { font-weight: 600; }
        
        .flight-card-bg { background: linear-gradient(135deg, #1e293b 0%, #334155 100%); }
        .pb-safe { padding-bottom: env(safe-area-inset-bottom); }

        .transport-badge {
            display: inline-flex;
            align-items: center;
            background-color: #f1f5f9;
            color: #64748b;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.7rem;
            font-weight: 500;
            margin-top: 4px;
            border: 1px solid #e2e8f0;
        }
        .transport-badge i { margin-right: 4px; color: #0d9488; }

        .app-card {
            background: white;
            border-radius: 1rem;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.05), 0 1px 2px -1px rgba(0, 0, 0, 0.05);
            border: 1px solid #f1f5f9;
            padding: 1rem;
            transition: all 0.2s ease;
            position: relative;
            overflow: hidden;
        }
        .app-card:active {
            transform: scale(0.98);
            background-color: #fafafa;
        }
        
        .icon-box {
            width: 3rem; 
            height: 3rem; 
            border-radius: 0.75rem; 
            display: flex; 
            align-items: center; 
            justify-content: center;
            font-size: 1.25rem;
            flex-shrink: 0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .day-btn { transition: all 0.2s; border-radius: 9999px; padding: 0.5rem 1.25rem; font-size: 0.875rem; }
        .day-btn.active { background-color: #0d9488; color: white; box-shadow: 0 4px 6px -1px rgba(13, 148, 136, 0.3); font-weight: 700; }
        .day-btn.inactive { background-color: white; color: #64748b; border: 1px solid #e2e8f0; font-weight: 500; }

        .section-title {
            font-size: 1.125rem;
            font-weight: 700;
            color: #1e293b;
            margin-bottom: 1rem;
            padding-left: 0.5rem;
            border-left: 4px solid #0d9488;
            line-height: 1.2;
        }
        
        .product-card { transition: transform 0.2s, box-shadow 0.2s; }
        .product-card:active { transform: scale(0.95); background-color: #f0fdfa; }

        .copper-info-box {
            background-color: #fef2f2;
            border-left: 5px solid #ef4444;
            padding: 1.5rem;
            border-radius: 0.5rem;
        }
        .copper-info-box h4 { font-weight: 700; color: #b91c1c; margin-bottom: 0.5rem; }

        .shrine-face {
            padding: 1rem;
            border-radius: 0.5rem;
            text-align: center;
            font-weight: 600;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
        }
        .face-1 { background-color: #f0f9ff; color: #0284c7; } 
        .face-2 { background-color: #fff7ed; color: #f97316; } 
        .face-3 { background-color: #f0fdf4; color: #10b981; } 
        .face-4 { background-color: #f5f3ff; color: #8b5cf6; } 

        .truffle-highlight {
            font-weight: 700;
            color: #b91c1c;
            padding: 2px 5px;
            background-color: #fee2e2;
            border-radius: 4px;
            display: inline-block;
        }
        
        .tag {
            display: inline-block; padding: 2px 8px; border-radius: 9999px;
            font-size: 0.65rem; font-weight: 700; text-transform: uppercase;
        }
        .tag-blue { background: #dbeafe; color: #1e40af; }
        .tag-orange { background: #ffedd5; color: #9a3412; }

        /* AI Floating Button */
        .ai-fab {
            position: fixed;
            bottom: 5.5rem;
            right: 1.5rem;
            width: 3.5rem;
            height: 3.5rem;
            background: linear-gradient(135deg, #6366f1 0%, #a855f7 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            box-shadow: 0 4px 15px rgba(124, 58, 237, 0.4);
            z-index: 40;
            transition: transform 0.2s, box-shadow 0.2s;
            border: 2px solid white;
        }
        .ai-fab:active { transform: scale(0.9); }
        .ai-fab i { font-size: 1.5rem; }

        /* AI Chat Bubble Styles */
        .chat-bubble { max-width: 80%; padding: 0.75rem 1rem; border-radius: 1rem; margin-bottom: 0.75rem; text-sm; line-height: 1.5; }
        .chat-user { background-color: #f1f5f9; color: #334155; margin-left: auto; border-bottom-right-radius: 0.25rem; }
        .chat-ai { background-color: #f0fdfa; color: #0f766e; border: 1px solid #ccfbf1; border-bottom-left-radius: 0.25rem; }
        .typing-indicator span {
            display: inline-block; width: 6px; height: 6px; background-color: #cbd5e1; border-radius: 50%;
            animation: typing 1.4s infinite ease-in-out both; margin: 0 2px;
        }
        .typing-indicator span:nth-child(1) { animation-delay: -0.32s; }
        .typing-indicator span:nth-child(2) { animation-delay: -0.16s; }
        @keyframes typing { 0%, 80%, 100% { transform: scale(0); } 40% { transform: scale(1); } }
    </style>
</head>
<body class="text-slate-800">

    <!-- Header -->
    <header class="bg-teal-600 text-white pt-12 pb-6 px-6 shadow-lg rounded-b-[2rem] mb-6 relative overflow-hidden">
        <div class="absolute -top-6 -right-6 w-40 h-40 bg-white opacity-5 rounded-full pointer-events-none"></div>
        <div class="relative z-10 flex justify-between items-end max-w-3xl mx-auto">
            <div>
                <h1 class="text-2xl font-bold tracking-wide">æ›¼è°·å®¶åº­ä¹‹æ—…</h1>
                <p class="text-teal-100 text-sm mt-1 flex items-center">
                    <i class="fa-regular fa-calendar-check mr-1.5"></i>2026/01/21 - 01/25
                </p>
            </div>
            <div class="flex gap-2">
                <a href="https://www.starlux-airlines.com/flight-status" target="_blank" class="bg-white/20 backdrop-blur-md px-3 py-1.5 rounded-lg text-xs font-bold hover:bg-white/30 transition flex items-center shadow-sm border border-white/10">
                    <i class="fa-solid fa-plane-up mr-1.5"></i>èˆªç­
                </a>
                <a href="https://www.accuweather.com/zh/th/bangkok/318849/weather-forecast/318849" target="_blank" class="bg-white/20 backdrop-blur-md px-3 py-1.5 rounded-lg text-xs font-bold hover:bg-white/30 transition flex items-center shadow-sm border border-white/10">
                    <i class="fa-solid fa-cloud-sun mr-1.5"></i>å¤©æ°£
                </a>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-3xl mx-auto px-4 pb-20">

        <!-- 1. ç¸½è¦½ TAB -->
        <div id="overview" class="tab-content active">
            <!-- èˆªç­å¡ç‰‡ -->
            <div class="flight-card-bg rounded-2xl shadow-xl p-5 text-white mb-6 relative overflow-hidden">
                <div class="absolute top-0 right-0 bg-orange-500 text-xs font-bold px-3 py-1 rounded-bl-lg shadow-sm">æ˜Ÿå®‡èˆªç©º</div>
                
                <!-- å»ç¨‹ -->
                <div class="flex justify-between items-center mb-6 mt-2">
                    <div class="text-left">
                        <div class="text-3xl font-bold text-teal-300">09:25</div>
                        <div class="text-[10px] text-slate-300 bg-white/10 px-2 py-0.5 rounded-full inline-block mt-1">TPE æ¡ƒåœ’</div>
                    </div>
                    <div class="flex flex-col items-center px-4 flex-grow">
                        <span class="text-[10px] text-slate-400 mb-1">1/21 (ä¸‰)</span>
                        <div class="w-full h-[1px] bg-slate-600 relative flex items-center justify-center">
                            <i class="fa-solid fa-plane text-slate-500 text-xs bg-[#1e293b] px-1"></i>
                        </div>
                        <span class="text-xs text-teal-500 font-bold mt-1">JX741</span>
                    </div>
                    <div class="text-right">
                        <div class="text-3xl font-bold text-teal-300">12:35</div>
                        <div class="text-[10px] text-slate-300 bg-white/10 px-2 py-0.5 rounded-full inline-block mt-1">BKK æ›¼è°·</div>
                    </div>
                </div>

                <!-- å›ç¨‹ -->
                <div class="flex justify-between items-center">
                    <div class="text-left">
                        <div class="text-3xl font-bold text-orange-300">17:40</div>
                        <div class="text-[10px] text-slate-300 bg-white/10 px-2 py-0.5 rounded-full inline-block mt-1">BKK æ›¼è°·</div>
                    </div>
                    <div class="flex flex-col items-center px-4 flex-grow">
                        <span class="text-[10px] text-slate-400 mb-1">1/25 (æ—¥)</span>
                        <div class="w-full h-[1px] bg-slate-600 relative flex items-center justify-center">
                            <i class="fa-solid fa-plane fa-rotate-180 text-slate-500 text-xs bg-[#1e293b] px-1"></i>
                        </div>
                        <span class="text-xs text-orange-400 font-bold mt-1">JX746</span>
                    </div>
                    <div class="text-right">
                        <div class="text-3xl font-bold text-orange-300">22:30</div>
                        <div class="text-[10px] text-slate-300 bg-white/10 px-2 py-0.5 rounded-full inline-block mt-1">TPE æ¡ƒåœ’</div>
                    </div>
                </div>
            </div>

            <!-- ä½å®¿è³‡è¨Š -->
            <div class="app-card flex justify-between items-center mb-6">
                <div class="flex items-center">
                    <div class="icon-box bg-indigo-50 text-indigo-600 mr-4">
                        <i class="fa-solid fa-bed"></i>
                    </div>
                    <div>
                        <div class="text-xs text-slate-400 font-bold mb-0.5">å…¥ä½é£¯åº—</div>
                        <div class="font-bold text-slate-800 text-lg">Hotel Clover Asoke</div>
                    </div>
                </div>
                <a href="https://www.google.com/maps/search/?api=1&query=Hotel+Clover+Asoke" target="_blank" class="w-10 h-10 bg-slate-50 rounded-full flex items-center justify-center text-slate-400 hover:bg-teal-500 hover:text-white transition">
                    <i class="fa-solid fa-location-arrow"></i>
                </a>
            </div>

             <!-- åŠŸèƒ½æ·å¾‘å€ -->
             <div class="grid grid-cols-2 gap-4 mb-8">
                <button onclick="switchTab('massage')" class="app-card flex flex-col items-center justify-center py-5 hover:border-purple-200 transition group">
                    <div class="icon-box bg-purple-100 text-purple-600 mb-2 group-hover:scale-110 transition-transform">
                        <i class="fa-solid fa-hand-sparkles"></i>
                    </div>
                    <div class="font-bold text-slate-700">æŒ‰æ‘©æ¨è–¦</div>
                    <div class="text-[10px] text-slate-400">Asoke å‘¨é‚Š</div>
                </button>
                
                <button onclick="switchTab('shopping')" class="app-card flex flex-col items-center justify-center py-5 hover:border-pink-200 transition group">
                    <div class="icon-box bg-pink-100 text-pink-600 mb-2 group-hover:scale-110 transition-transform">
                        <i class="fa-solid fa-bag-shopping"></i>
                    </div>
                    <div class="font-bold text-slate-700">å¿…è²·æ¸…å–®</div>
                    <div class="text-[10px] text-slate-400">Big C æ”»ç•¥</div>
                </button>
                
                <button onclick="switchTab('prep')" class="app-card flex flex-col items-center justify-center py-5 hover:border-blue-200 transition group">
                    <div class="icon-box bg-blue-100 text-blue-600 mb-2 group-hover:scale-110 transition-transform">
                        <i class="fa-solid fa-passport"></i>
                    </div>
                    <div class="font-bold text-slate-700">è¡Œå‰é ˆçŸ¥</div>
                    <div class="text-[10px] text-slate-400">ç°½è­‰èˆ‡ç¶²å¡</div>
                </button>
                
                <button onclick="switchTab('transport')" class="app-card flex flex-col items-center justify-center py-5 hover:border-green-200 transition group">
                    <div class="icon-box bg-green-100 text-green-600 mb-2 group-hover:scale-110 transition-transform">
                        <i class="fa-solid fa-train-subway"></i>
                    </div>
                    <div class="font-bold text-slate-700">äº¤é€šæ”»ç•¥</div>
                    <div class="text-[10px] text-slate-400">BTS/Grab</div>
                </button>
            </div>
        </div>

        <!-- 2. è¡Œç¨‹ TAB -->
        <div id="itinerary" class="tab-content">
            <div class="sticky top-0 bg-[#f8fafc]/95 backdrop-blur-md pt-2 pb-4 z-30 overflow-x-auto hide-scrollbar flex gap-2 px-1">
                <button onclick="switchDay(1)" id="day-btn-1" class="day-btn active flex-shrink-0">Day 1</button>
                <button onclick="switchDay(2)" id="day-btn-2" class="day-btn inactive flex-shrink-0">Day 2</button>
                <button onclick="switchDay(3)" id="day-btn-3" class="day-btn inactive flex-shrink-0">Day 3</button>
                <button onclick="switchDay(4)" id="day-btn-4" class="day-btn inactive flex-shrink-0">Day 4</button>
                <button onclick="switchDay(5)" id="day-btn-5" class="day-btn inactive flex-shrink-0">Day 5</button>
            </div>
            <div id="timeline-container" class="relative pl-2 pb-4 space-y-4"></div>
        </div>

        <!-- 3. æ–‡åŒ– TAB -->
        <div id="culture" class="tab-content">
            <h2 class="section-title border-teal-500">æ­·å²æ–‡åŒ–å·¡ç¦®</h2>
            <div class="space-y-4">
                <!-- å››é¢ä½› -->
                <div class="app-card p-0">
                     <div class="h-32 bg-yellow-50 flex items-center justify-center relative overflow-hidden">
                        <i class="fa-solid fa-hands-praying text-yellow-300 text-7xl opacity-40 absolute -bottom-2 -right-2"></i>
                        <div class="text-center relative z-10 p-4">
                             <h3 class="font-bold text-xl text-yellow-900 mb-0.5">å››é¢ä½›</h3>
                             <p class="text-[10px] text-yellow-800 font-bold bg-white/60 px-2 py-0.5 rounded-full inline-block">Erawan Shrine</p>
                        </div>
                    </div>
                    <div class="p-5">
                        <p class="text-sm text-slate-600 mb-4 leading-relaxed">
                            ä½æ–¼å¸‚ä¸­å¿ƒ Chit Lomï¼Œæ›¼è°·é¦™ç«æœ€é¼ç››çš„å¯ºå»Ÿã€‚
                        </p>
                        <div class="bg-yellow-50/70 p-3 rounded-xl border border-yellow-100">
                             <h4 class="font-bold text-yellow-800 text-xs mb-2 text-center border-b border-yellow-200 pb-2">é †æ™‚é‡åƒæ‹œæŒ‡å—</h4>
                             <div class="grid grid-cols-2 gap-2 text-xs">
                                 <div class="text-center p-1.5 bg-white rounded shadow-sm"><span class="font-bold text-slate-800 block">1. æ­£é¢</span><span class="text-slate-500">äº‹æ¥­/å­¸æ¥­</span></div>
                                 <div class="text-center p-1.5 bg-white rounded shadow-sm"><span class="font-bold text-slate-800 block">2. å·¦å´</span><span class="text-slate-500">æ„›æƒ…/å©šå§»</span></div>
                                 <div class="text-center p-1.5 bg-white rounded shadow-sm"><span class="font-bold text-slate-800 block">3. å¾Œæ–¹</span><span class="text-slate-500">è²¡å¯Œ/æ­£è²¡</span></div>
                                 <div class="text-center p-1.5 bg-white rounded shadow-sm"><span class="font-bold text-slate-800 block">4. å³å´</span><span class="text-slate-500">å¥åº·/å¹³å®‰</span></div>
                             </div>
                        </div>
                    </div>
                </div>

                <!-- ç¾åŠŸéµé“ -->
                <div class="app-card p-0">
                    <div class="h-32 bg-blue-50 flex items-center justify-center relative overflow-hidden">
                        <i class="fa-solid fa-train text-blue-200 text-7xl opacity-40 absolute -bottom-2 -right-2"></i>
                        <div class="text-center relative z-10 p-4">
                             <h3 class="font-bold text-xl text-blue-900 mb-0.5">ç¾åŠŸéµé“å¸‚å ´</h3>
                             <p class="text-[10px] text-blue-700 font-bold bg-white/60 px-2 py-0.5 rounded-full inline-block">Maeklong Railway</p>
                        </div>
                    </div>
                    <div class="p-5">
                        <p class="text-sm text-slate-600 mb-3 leading-relaxed">
                            ä¸–ç•Œç½•è¦‹çš„ã€Œç«è»Šç©¿éèœå¸‚å ´ã€å¥‡æ™¯ã€‚ç«è»Šç¶“éæ™‚æ”¤è²©æœƒç¬é–“æ”¶æ£šï¼Œéå¸¸éœ‡æ’¼ã€‚
                        </p>
                         <div class="flex items-center text-xs text-slate-500 bg-slate-50 p-2 rounded border border-slate-100">
                            <i class="fa-regular fa-clock mr-2 text-blue-500"></i>
                            <span>ç«è»Šæ™‚åˆ»åƒè€ƒï¼š08:30, 11:10, 14:30, 17:40</span>
                        </div>
                    </div>
                </div>

                <!-- é„­ç‹å»Ÿ -->
                <div class="app-card p-0">
                    <div class="h-32 bg-orange-50 flex items-center justify-center relative overflow-hidden">
                        <i class="fa-solid fa-gopuram text-orange-200 text-7xl opacity-40 absolute -bottom-2 -right-2"></i>
                        <div class="text-center relative z-10 p-4">
                             <h3 class="font-bold text-xl text-orange-900 mb-0.5">é„­ç‹å»Ÿ (é»æ˜å¯º)</h3>
                             <p class="text-[10px] text-orange-800 font-bold bg-white/60 px-2 py-0.5 rounded-full inline-block">Wat Arun</p>
                        </div>
                    </div>
                    <div class="p-5">
                        <p class="text-sm text-slate-600 mb-3 leading-relaxed">
                            æ˜­æŠ«è€¶æ²³ç•”æœ€ç¾çš„ç™½è‰²ä½›å¡”ï¼Œè¡¨é¢é‘²åµŒç„¡æ•¸å½©è‰²é™¶ç“·ï¼Œè¢«è­½ç‚ºã€Œæ³°åœ‹è‰¾è²çˆ¾éµå¡”ã€ã€‚
                        </p>
                        <a href="https://zh.wikipedia.org/wiki/é„­ç‹å»Ÿ" target="_blank" class="block w-full bg-orange-50 text-orange-600 py-2 rounded-lg text-center text-xs font-bold hover:bg-orange-100 transition border border-orange-100">
                            <i class="fa-brands fa-wikipedia-w mr-1"></i> ç¶­åŸºç™¾ç§‘ä»‹ç´¹
                        </a>
                    </div>
                </div>

                <!-- å¤§åŸ -->
                <div class="app-card p-0">
                     <div class="h-32 bg-stone-100 flex items-center justify-center relative overflow-hidden">
                        <i class="fa-solid fa-archway text-stone-300 text-7xl opacity-40 absolute -bottom-2 -right-2"></i>
                        <div class="text-center relative z-10 p-4">
                             <h3 class="font-bold text-xl text-stone-800 mb-0.5">å¤§åŸå¤éƒ½</h3>
                             <p class="text-[10px] text-stone-600 font-bold bg-white/60 px-2 py-0.5 rounded-full inline-block">Ayutthaya</p>
                        </div>
                    </div>
                    <div class="p-5">
                        <p class="text-sm text-slate-600 mb-3 leading-relaxed">
                            æ³°åœ‹èˆŠé¦–éƒ½ï¼Œä¸–ç•Œæ–‡åŒ–éºç”¢ã€‚å¿…çœ‹ç‘ªå“ˆæ³°å¯ºçš„ã€Œæ¨¹ä¸­ä½›é ­ã€ï¼Œè¦‹è­‰æ­·å²çš„èˆˆè¡°ã€‚
                        </p>
                        <a href="https://zh.wikipedia.org/wiki/é˜¿ç‘œé™€è€¶å¤åŸ" target="_blank" class="block w-full bg-stone-200 text-stone-700 py-2 rounded-lg text-center text-xs font-bold hover:bg-stone-300 transition border border-stone-200">
                            <i class="fa-brands fa-wikipedia-w mr-1"></i> ç¶­åŸºç™¾ç§‘ä»‹ç´¹
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- 4. ç¾é£Ÿ TAB -->
        <div id="food-map" class="tab-content">
            <!-- Copper Highlight -->
            <div onclick="document.getElementById('copper-modal').classList.remove('hidden')" class="app-card bg-gradient-to-br from-red-50 to-white p-5 mb-8 cursor-pointer relative group border-l-4 border-red-500 shadow-lg">
                <div class="absolute right-4 top-4 bg-red-100 text-red-600 text-[10px] font-bold px-3 py-1 rounded-full shadow-sm">Day 3 å¿…åƒ</div>
                <div class="flex items-center">
                    <div class="icon-box bg-red-100 text-red-500 mr-4 shadow-sm border border-red-50 w-16 h-16 text-2xl">
                        <i class="fa-solid fa-crown"></i>
                    </div>
                    <div>
                        <h3 class="font-bold text-xl text-slate-800">Copper Beyond Buffet</h3>
                        <p class="text-xs text-slate-500 mt-1 flex items-center group-hover:text-red-500 transition">
                            é»æ“ŠæŸ¥çœ‹æ”»ç•¥èˆ‡è¨‚ä½ <i class="fa-solid fa-arrow-right text-[10px] ml-1 opacity-70"></i>
                        </p>
                    </div>
                </div>
            </div>
            
            <!-- Jodd Fairs Highlight -->
            <h3 class="section-title border-pink-500">å–¬å¾·å¤œå¸‚å¿…åƒ (Jodd Fairs)</h3>
            <div id="jodd-food-list" class="space-y-3 mb-8"></div>

            <!-- Mall Food -->
            <h3 class="section-title border-purple-500">ç™¾è²¨å•†å ´ & ç¾é£Ÿè¡—</h3>
            <div id="mall-food-list" class="space-y-3 mb-8"></div>

            <!-- Michelin -->
            <h3 class="section-title border-orange-500">ç¶“å…¸ç±³å…¶æ—é¤å»³</h3>
            <div id="michelin-list" class="space-y-3 mb-8"></div>

            <!-- Street Food -->
            <h3 class="section-title border-yellow-500">æ³°å¼å°åƒ / ç”œé»</h3>
            <div id="street-food-list" class="space-y-3"></div>
        </div>

        <!-- 5. è³¼ç‰© TAB -->
        <div id="shopping" class="tab-content">
            <!-- Chatuchak Section -->
            <div class="flex justify-between items-center mb-4 px-1">
                <h2 class="section-title border-orange-500 mb-0">æ°é€”æ´½é€±æœ«å¸‚é›†</h2>
                <span class="text-[10px] bg-orange-50 text-orange-600 px-2 py-1 rounded-full font-bold border border-orange-100">Day 5 è¡Œç¨‹</span>
            </div>
            
            <div class="app-card mb-8 p-0 overflow-hidden">
                 <div class="bg-orange-50 p-4 border-b border-orange-100">
                    <h3 class="font-bold text-orange-800 flex items-center"><i class="fa-solid fa-map-signs mr-2"></i>é€›è¡—æ”»ç•¥</h3>
                </div>
                <div class="p-4 text-sm text-slate-600 space-y-3">
                    <p><i class="fa-solid fa-clock text-orange-400 mr-2"></i><strong>æ™‚é–“ï¼š</strong>é€±å…­/æ—¥ 09:00 - 18:00 (å»ºè­°æ—©ä¸Šå‰å¾€é¿æš‘)</p>
                    <p><i class="fa-solid fa-shirt text-orange-400 mr-2"></i><strong>ç©¿è‘—ï¼š</strong>æ¥µç†±ï¼çŸ­è¢–çŸ­è¤²ï¼Œå–„ç”¨é˜²æ›¬ã€‚</p>
                    <p><i class="fa-solid fa-money-bill-wave text-orange-400 mr-2"></i><strong>æ®ºåƒ¹ï¼š</strong>å¾ 7-8 æŠ˜é–‹å§‹å–Šåƒ¹ã€‚</p>
                </div>
                <div class="bg-slate-50 p-4 border-t border-slate-100">
                    <div class="font-bold text-slate-700 mb-3 text-xs uppercase tracking-wide">æ¨è–¦å…¥æ‰‹</div>
                    <div class="flex flex-wrap gap-2">
                        <span class="tag tag-orange">é¦™æ°›ç²¾æ²¹</span>
                        <span class="tag tag-orange">æœ¨è£½é¤å…·</span>
                        <span class="tag tag-orange">ç·¨ç¹”åŒ…</span>
                        <span class="tag tag-orange">æ³°å¼å¤è‘—</span>
                        <span class="tag tag-orange">æ¤°å­å†°æ·‡æ·‹</span>
                        <span class="tag tag-orange">è’œé¦™éºµåŒ…</span>
                        <span class="tag tag-orange">è¥¿ç­ç‰™ç‡‰é£¯</span>
                    </div>
                </div>
            </div>

            <!-- Big C Section -->
            <div class="flex justify-between items-center mb-4 px-1">
                <h2 class="section-title border-teal-500 mb-0">Big C å¿…è²·æ¸…å–®</h2>
                <span class="text-[10px] bg-teal-50 text-teal-600 px-2 py-1 rounded-full font-bold">15é …ç²¾é¸</span>
            </div>
            
            <div class="bg-teal-50 p-3 rounded-lg mb-4 text-xs text-teal-800 flex items-start border border-teal-100 mx-1">
                <i class="fa-solid fa-circle-info mr-2 mt-0.5"></i>
                <div>é»æ“Šå•†å“å¡ç‰‡å¯æŸ¥çœ‹<strong>Google åœ–ç‰‡æœå°‹</strong>çµæœã€‚</div>
            </div>

            <div id="shopping-grid" class="grid grid-cols-3 gap-3 mb-8">
                <!-- Injected by JS -->
            </div>

            <h2 class="section-title border-pink-500">æ›¼è°·æ¨è–¦ä¼´æ‰‹ç¦®</h2>
            <div id="bangkok-gift-grid" class="grid grid-cols-2 gap-3">
                <!-- Injected by JS -->
            </div>
        </div>

        <!-- 6. æŒ‰æ‘© TAB -->
        <div id="massage" class="tab-content">
             <div class="bg-indigo-600 text-white p-6 rounded-2xl mb-8 shadow-lg relative overflow-hidden">
                 <div class="absolute right-0 bottom-0 text-9xl opacity-10 -mb-4 -mr-4"><i class="fa-solid fa-spa"></i></div>
                 <h2 class="text-2xl font-bold mb-2">Asoke æŒ‰æ‘©åœ°åœ–</h2>
                 <p class="text-indigo-100 text-sm">ç²¾é¸é£¯åº—å‘¨é‚Šé«˜è©•åƒ¹åº—å®¶ï¼Œå»ºè­°æå‰é ç´„ã€‚</p>
             </div>
             <div id="massage-list" class="space-y-4">
                 <!-- Injected by JS -->
             </div>
        </div>

        <!-- 7. äº¤é€š TAB -->
        <div id="transport" class="tab-content">
            <h2 class="section-title border-blue-500">äº¤é€šæ”»ç•¥</h2>
            
            <!-- å«è»Š APP æ”»ç•¥ -->
            <div class="app-card mb-6 p-0 overflow-hidden border-2 border-yellow-400">
                <div class="bg-yellow-400 p-3 text-center">
                    <h3 class="font-bold text-white text-lg"><i class="fa-solid fa-mobile-screen-button mr-2"></i>å¿…å‚™å«è»Š App æŒ‡å—</h3>
                </div>
                <div class="p-4 space-y-4">
                    <!-- Grab -->
                    <div class="flex items-start">
                         <a href="https://www.grab.com/th/en/download/" target="_blank" class="w-12 h-12 bg-white rounded-xl flex items-center justify-center mr-4 flex-shrink-0 shadow-sm border border-slate-200 p-1">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/6c/Grab_Logo.svg/512px-Grab_Logo.svg.png" alt="Grab" class="w-full h-full object-contain">
                        </a>
                        <div>
                            <h4 class="font-bold text-lg text-slate-800">Grab</h4>
                            <p class="text-sm text-slate-600 mb-1">æœ€ä¸»æµã€è»Šè¼›å¤šã€å¯ç¶ä¿¡ç”¨å¡ã€‚</p>
                            <span class="tag tag-blue">æ¨è–¦ä½¿ç”¨</span>
                        </div>
                    </div>
                    <hr class="border-slate-100">
                    <!-- Bolt -->
                    <div class="flex items-start">
                         <a href="https://bolt.eu/" target="_blank" class="w-12 h-12 bg-white rounded-xl flex items-center justify-center mr-4 flex-shrink-0 shadow-sm border border-slate-200 p-1">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/a3/Bolt_logo.svg/512px-Bolt_logo.svg.png" alt="Bolt" class="w-full h-full object-contain">
                        </a>
                        <div>
                            <h4 class="font-bold text-lg text-slate-800">Bolt</h4>
                            <p class="text-sm text-slate-600 mb-1">åƒ¹æ ¼é€šå¸¸è¼ƒä¾¿å®œï¼Œä½†è»Šè¼›è¼ƒå°‘ï¼Œå¤šæ”¶ç¾é‡‘ã€‚</p>
                            <span class="tag tag-orange">çœéŒ¢é¦–é¸</span>
                        </div>
                    </div>
                    <div class="bg-yellow-50 p-3 rounded-lg text-xs text-slate-600 mt-2">
                        <strong>ğŸ’¡ å°æ’‡æ­¥ï¼š</strong> å°–å³°æ™‚æ®µ (07-09, 17-19) å¡è»Šåš´é‡ï¼Œå»ºè­°æ”¹æ­ BTS/MRTã€‚
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-1 gap-4">
                <!-- Boat -->
                <div class="app-card flex gap-4 items-start border-l-4 border-cyan-500">
                    <div class="icon-box bg-cyan-50 text-cyan-600">
                        <i class="fa-solid fa-ferry"></i>
                    </div>
                    <div>
                        <h3 class="font-bold text-slate-800 text-lg">æ˜­æŠ«è€¶æ²³éŠèˆ¹</h3>
                        <p class="text-sm text-slate-600 mt-1">å‰å¾€é„­ç‹å»Ÿã€å¤§çš‡å®®ã€Iconsiam å¿…æ­ã€‚</p>
                        <div class="mt-2 text-xs bg-slate-50 p-2 rounded text-slate-500 border border-slate-100">
                            <strong>Tips:</strong> æ©˜æ——èˆ¹(ä¾¿å®œ/ç­æ¬¡å¤š)ï¼Œè—æ——èˆ¹(è§€å…‰/æœ‰å°è¦½)ã€‚
                        </div>
                    </div>
                </div>

                <!-- BTS -->
                <div class="app-card flex gap-4 items-start border-l-4 border-green-500">
                    <div class="icon-box bg-green-50 text-green-600">
                        <i class="fa-solid fa-train"></i>
                    </div>
                    <div>
                        <h3 class="font-bold text-slate-800 text-lg">BTS ç©ºéµ</h3>
                        <p class="text-sm text-slate-600 mt-1">æ›¼è°·ç§»å‹•é¦–é¸ï¼Œä¸å¡è»Šã€‚</p>
                        <div class="mt-2 text-xs bg-slate-50 p-2 rounded text-slate-500 border border-slate-100">
                            <strong>Tips:</strong> å»ºè­°è³¼è²· Rabbit Card (å…”å­å¡) é¿é–‹è³¼ç¥¨äººæ½®ã€‚
                        </div>
                    </div>
                </div>

                <!-- MRT -->
                <div class="app-card flex gap-4 items-start border-l-4 border-blue-500">
                    <div class="icon-box bg-blue-50 text-blue-600">
                        <i class="fa-solid fa-subway"></i>
                    </div>
                    <div>
                        <h3 class="font-bold text-slate-800 text-lg">MRT åœ°éµ</h3>
                        <p class="text-sm text-slate-600 mt-1">é€£çµèˆŠåŸå€ã€å¤œå¸‚æ–¹ä¾¿ã€‚</p>
                        <div class="mt-2 text-xs bg-slate-50 p-2 rounded text-slate-500 border border-slate-100">
                            <strong>Tips:</strong> å¯ç›´æ¥åˆ· VISA / MasterCard é€²ç«™ï¼Œå…è³¼ç¥¨ã€‚
                        </div>
                    </div>
                </div>
                
                 <!-- Tuk Tuk -->
                <div class="app-card flex gap-4 items-start border-l-4 border-orange-500">
                    <div class="icon-box bg-orange-50 text-orange-600">
                        <i class="fa-solid fa-motorcycle"></i>
                    </div>
                    <div>
                        <h3 class="font-bold text-slate-800 text-lg">éƒ½éƒ½è»Š (Tuk Tuk)</h3>
                        <p class="text-sm text-slate-600 mt-1">é«”é©—åœ¨åœ°é¢¨æƒ…ï¼Œé©åˆçŸ­ç¨‹ã€‚</p>
                        <div class="mt-2 text-xs bg-slate-50 p-2 rounded text-slate-500 border border-slate-100">
                            <strong>Tips:</strong> æ²’æœ‰è·³è¡¨ï¼Œä¸Šè»Šå‰å‹™å¿…å…ˆè­°åƒ¹ï¼
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 8. è¡Œå‰é ˆçŸ¥ TAB -->
        <div id="prep" class="tab-content">
            <h2 class="section-title border-indigo-500">è¡Œå‰æº–å‚™</h2>
            <div class="space-y-4">
                <div class="app-card">
                    <h3 class="font-bold text-slate-700 mb-2 flex items-center"><i class="fa-solid fa-passport mr-2 text-indigo-500"></i>å…¥å¢ƒèˆ‡ç°½è­‰</h3>
                    <ul class="list-disc list-inside text-sm text-slate-600 space-y-1">
                         <li>å°ç£è­·ç…§å¯å…ç°½è­‰å…¥å¢ƒæ³°åœ‹ (åœç•™60å¤©)ã€‚</li>
                         <li>è­·ç…§æ•ˆæœŸéœ€æœ‰ 6 å€‹æœˆä»¥ä¸Šã€‚</li>
                    </ul>
                </div>
                <div class="app-card">
                    <h3 class="font-bold text-slate-700 mb-2 flex items-center"><i class="fa-solid fa-plug mr-2 text-indigo-500"></i>é›»å£“èˆ‡æ’åº§</h3>
                    <p class="text-sm text-slate-600">æ³°åœ‹é›»å£“ç‚º 220Vã€‚æ’åº§é€šå¸¸ç‚ºé›™å­”åœ“å½¢æˆ–æ‰å½¢ï¼Œå°ç£é›»å™¨é€šå¸¸å¯ç›´æ¥ä½¿ç”¨ï¼ˆéœ€ç¢ºèªé›»å£“æ”¯æ´ï¼‰ã€‚</p>
                </div>
                 <div class="app-card">
                    <h3 class="font-bold text-slate-700 mb-2 flex items-center"><i class="fa-solid fa-money-bill-1-wave mr-2 text-indigo-500"></i>å°è²»æ–‡åŒ–</h3>
                    <p class="text-sm text-slate-600">å»ºè­°çµ¦äºˆå°è²»ï¼Œå¦‚åºŠé ­è²» (20-50æ³°éŠ–)ã€æŒ‰æ‘©å¸« (50-100æ³°éŠ–)ã€‚</p>
                </div>
            </div>
        </div>

    </main>

    <!-- Copper Modal -->
    <div id="copper-modal" class="fixed inset-0 bg-black/60 z-[60] hidden flex items-center justify-center p-4 backdrop-blur-sm" onclick="this.classList.add('hidden')">
        <div class="bg-white w-full max-w-md rounded-2xl overflow-hidden shadow-2xl transform transition-all" onclick="event.stopPropagation()">
            <div class="bg-gradient-to-r from-red-500 to-red-600 p-4 flex justify-between items-center text-white">
                <h3 class="font-bold text-lg"><i class="fa-solid fa-crown mr-2"></i>Copper Buffet æ”»ç•¥</h3>
                <button onclick="document.getElementById('copper-modal').classList.add('hidden')" class="hover:bg-white/20 rounded-full w-8 h-8 flex items-center justify-center transition"><i class="fa-solid fa-times text-lg"></i></button>
            </div>
            <div class="p-5 space-y-5 max-h-[70vh] overflow-y-auto">
                <div class="text-sm text-slate-600">
                    <p class="mb-3 flex items-center"><i class="fa-solid fa-location-dot text-red-500 w-6 text-center mr-2"></i><span>Gaysorn Amarin (BTS Chit Lom)</span></p>
                    <div class="mb-4 text-red-700 font-bold text-xs bg-red-50 p-3 rounded-lg border border-red-100 flex items-start">
                        <i class="fa-solid fa-circle-exclamation mr-2 mt-0.5"></i>
                        å…¨é ç´„åˆ¶ï¼Œå»ºè­°æå‰1å€‹æœˆè¨‚ä½ï¼
                    </div>
                    
                    <h4 class="font-bold text-slate-800 mb-2 border-b pb-1">å¿…åƒæ¨è–¦</h4>
                    <ul class="space-y-2 pl-1">
                        <li class="flex items-center"><span class="w-1.5 h-1.5 bg-red-400 rounded-full mr-2"></span> <span class="bg-red-100 text-red-800 px-1.5 py-0.5 rounded text-xs font-bold mr-1">æ‹›ç‰Œ</span> æ¾éœ²æ¹¯ (Truffle Soup)</li>
                        <li class="flex items-center"><span class="w-1.5 h-1.5 bg-slate-300 rounded-full mr-2"></span> æ¾³æ´²å’Œç‰›èˆ¹éºµ</li>
                        <li class="flex items-center"><span class="w-1.5 h-1.5 bg-slate-300 rounded-full mr-2"></span> ç”Ÿè ” / æ³°å¼æµ·é®®</li>
                        <li class="flex items-center"><span class="w-1.5 h-1.5 bg-slate-300 rounded-full mr-2"></span> æ³•å¼éµè‚é†¬</li>
                    </ul>
                </div>
                <div class="flex gap-3 pt-2 flex-col sm:flex-row">
                    <a href="https://www.hungryhub.com/en/restaurants/copper-buffet" target="_blank" class="w-full bg-red-600 text-white py-3 rounded-xl text-center text-sm font-bold shadow-md hover:bg-red-700 transition flex items-center justify-center">
                        <i class="fa-solid fa-calendar-check mr-2"></i>å‰å¾€ Hungry Hub è¨‚ä½
                    </a>
                    
                    <div class="flex gap-2 w-full">
                        <a href="https://foodieteller.com/copper-beyond-buffet/" target="_blank" class="flex-1 bg-slate-100 text-slate-700 py-3 rounded-xl text-center text-sm font-bold border border-slate-200 hover:bg-slate-200 transition">
                            <i class="fa-regular fa-file-lines mr-1"></i>çœ‹æ”»ç•¥
                        </a>
                        <a href="https://www.google.com/maps/search/?api=1&query=Copper+Beyond+Buffet+Gaysorn+Amarin" target="_blank" class="flex-1 bg-blue-600 text-white py-3 rounded-xl text-center text-sm font-bold shadow-md hover:bg-blue-700 transition">
                            <i class="fa-solid fa-location-dot mr-1"></i>å°èˆª
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- AI FAB Button (New) -->
    <button onclick="document.getElementById('ai-modal').classList.remove('hidden')" class="ai-fab shadow-lg hover:scale-110 transition-transform">
        <i class="fa-solid fa-wand-magic-sparkles text-xl"></i>
    </button>

    <!-- AI Modal -->
    <div id="ai-modal" class="fixed inset-0 bg-black/60 z-[70] hidden flex items-center justify-center p-4 backdrop-blur-sm">
        <div class="bg-white w-full max-w-md rounded-2xl overflow-hidden shadow-2xl h-[80vh] flex flex-col relative" onclick="event.stopPropagation()">
            <!-- Header -->
            <div class="bg-gradient-to-r from-violet-600 to-indigo-600 p-4 flex justify-between items-center text-white flex-shrink-0">
                <div class="flex items-center">
                    <i class="fa-solid fa-robot mr-2"></i>
                    <h3 class="font-bold text-lg">AI éš¨èº«å°éŠ</h3>
                </div>
                <button onclick="document.getElementById('ai-modal').classList.add('hidden')" class="hover:bg-white/20 rounded-full w-8 h-8 flex items-center justify-center transition">
                    <i class="fa-solid fa-times text-lg"></i>
                </button>
            </div>
            
            <!-- Tabs -->
            <div class="flex border-b border-slate-200 flex-shrink-0">
                <button onclick="switchAiTab('chat')" id="ai-tab-chat" class="flex-1 py-3 text-sm font-bold text-indigo-600 border-b-2 border-indigo-600 bg-indigo-50">
                    <i class="fa-regular fa-comments mr-1"></i> æ—…éŠå•ç­”
                </button>
                <button onclick="switchAiTab('translate')" id="ai-tab-translate" class="flex-1 py-3 text-sm font-bold text-slate-500 hover:bg-slate-50 transition">
                    <i class="fa-solid fa-language mr-1"></i> æ³°èªç¿»è­¯
                </button>
            </div>

            <!-- Content Area -->
            <div class="flex-grow overflow-y-auto p-4 bg-slate-50" id="ai-content-area">
                
                <!-- Chat View -->
                <div id="ai-view-chat" class="space-y-4">
                    <div class="chat-ai chat-bubble self-start">
                        ğŸ‘‹ è–©ç“¦è¿ªå¡ï¼æˆ‘æ˜¯æ‚¨çš„æ›¼è°· AI å°éŠã€‚<br>
                        æˆ‘å¯ä»¥å¹«æ‚¨æ¨è–¦é™„è¿‘ç¾é£Ÿã€æŸ¥è©¢æ™¯é»è³‡è¨Šï¼Œæˆ–æ˜¯è§£ç­”ä»»ä½•æ—…éŠç–‘å•ã€‚è«‹å•ä»Šå¤©æƒ³å»å“ªè£¡å‘¢ï¼Ÿ
                    </div>
                </div>

                <!-- Translate View -->
                <div id="ai-view-translate" class="hidden space-y-4">
                    <div class="bg-white p-4 rounded-xl shadow-sm border border-indigo-100">
                        <label class="block text-sm font-bold text-slate-700 mb-2">è¼¸å…¥ä¸­æ–‡å¥å­ï¼š</label>
                        <div class="relative">
                            <input type="text" id="trans-input" class="w-full p-3 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 pr-10" placeholder="ä¾‹å¦‚ï¼šå¤šå°‘éŒ¢ï¼Ÿ/ ä¸è¦é¦™èœ">
                            <button onclick="handleTranslate()" class="absolute right-2 top-2 bg-indigo-600 text-white w-8 h-8 rounded-full flex items-center justify-center hover:bg-indigo-700 transition">
                                <i class="fa-solid fa-arrow-right"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div id="trans-result" class="hidden space-y-3">
                        <!-- Result will be injected here -->
                    </div>
                    
                    <div class="text-center text-xs text-slate-400 mt-4">
                        ğŸ’¡ è¼¸å…¥çŸ­å¥æ•ˆæœæœ€ä½³
                    </div>
                </div>

            </div>

            <!-- Chat Input Area -->
            <div id="ai-input-area" class="p-3 border-t border-slate-200 bg-white flex-shrink-0 flex gap-2">
                <input type="text" id="chat-input" class="flex-grow p-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500" placeholder="è¼¸å…¥å•é¡Œ..." onkeypress="if(event.key === 'Enter') handleChat()">
                <button onclick="handleChat()" class="bg-indigo-600 text-white px-4 rounded-xl hover:bg-indigo-700 transition font-bold">
                    é€å‡º
                </button>
            </div>
        </div>
    </div>

    <!-- Bottom Navigation (Fixed) -->
    <nav class="fixed bottom-0 left-0 w-full bg-white border-t border-slate-200 pb-safe z-50 shadow-[0_-4px_20px_-5px_rgba(0,0,0,0.1)]">
        <div class="grid grid-cols-5 h-[4rem]">
            <div onclick="switchTab('overview')" id="tab-overview" class="nav-item active flex flex-col items-center justify-center cursor-pointer">
                <i class="fa-solid fa-house text-xl mb-1"></i>
                <span class="text-[10px] font-medium">ç¸½è¦½</span>
            </div>
            <div onclick="switchTab('itinerary')" id="tab-itinerary" class="nav-item flex flex-col items-center justify-center cursor-pointer text-slate-400">
                <i class="fa-solid fa-calendar-days text-xl mb-1"></i>
                <span class="text-[10px] font-medium">è¡Œç¨‹</span>
            </div>
            <div onclick="switchTab('food-map')" id="tab-food-map" class="nav-item flex flex-col items-center justify-center cursor-pointer text-slate-400">
                <i class="fa-solid fa-utensils text-xl mb-1"></i>
                <span class="text-[10px] font-medium">ç¾é£Ÿ</span>
            </div>
            <div onclick="switchTab('shopping')" id="tab-shopping" class="nav-item flex flex-col items-center justify-center cursor-pointer text-slate-400">
                <i class="fa-solid fa-bag-shopping text-xl mb-1"></i>
                <span class="text-[10px] font-medium">è³¼ç‰©</span>
            </div>
            <div onclick="switchTab('culture')" id="tab-culture" class="nav-item flex flex-col items-center justify-center cursor-pointer text-slate-400">
                <i class="fa-solid fa-archway text-xl mb-1"></i>
                <span class="text-[10px] font-medium">æ–‡åŒ–</span>
            </div>
        </div>
    </nav>

    <script>
        // --- API CONFIGURATION ---
        const apiKey = ""; // API Key is provided by the environment

        // --- Data Definitions (Moved to top to prevent scope issues) ---
        
        // Jodd Fairs Food List
        const joddFairsFood = [
             { name: "ç«å±±æ’éª¨", note: "é…¸è¾£é–‹èƒƒï¼Œæ‹ç…§å¿…å‚™", map: "https://www.google.com/maps/search/Jodd+Fairs+Volcano+Ribs" },
             { name: "æ°´æœè¥¿æ–½å†°æ²™", note: "çœŸæå¯¦æ–™ï¼Œè§£æš‘é¦–é¸", map: "https://www.google.com/maps/search/Jodd+Fairs+Fruit+Smoothie" },
             { name: "çƒ¤æ°´æ¯", note: "å£æ„Ÿè„†å½ˆï¼Œé…æµ·é®®é†¬", map: "" },
             { name: "è·³è·³è¦", note: "æ³°å¼ç”Ÿé†ƒæ´»è¦ï¼Œæ•¢åƒè¾£å¿…è©¦", map: "" }
        ];

        const itineraryData = {
            1: [
                { t: "09:25", title: "å»ç¨‹ JX741", desc: "TPE æ¡ƒåœ’ -> BKK æ›¼è°·", link: "https://www.starlux-airlines.com/", transport: "é£›æ©Ÿ" },
                { t: "12:35", title: "æŠµé”æ›¼è°·", desc: "å…¥å¢ƒæª¢æŸ¥ã€é ˜å–è¡Œæã€‚", icon: "fa-plane-arrival", transport: "æ­¥è¡Œ" },
                { t: "14:45", title: "å¸‚å€æ›åŒ¯", desc: "å‰å¾€ SuperRich (ç¶ æ¨™) ç¸½åº—/Chit Lomåº—ã€‚", map: "https://www.google.com/maps/search/SuperRich+Thailand", transport: "æ©Ÿå ´å¿«ç·š/Grab" },
                { t: "15:30", title: "é£¯åº— Check-in", desc: "Hotel Clover Asokeã€‚", map: "https://www.google.com/maps/search/Hotel+Clover+Asoke", transport: "Grab/BTS" },
                { t: "18:00", title: "æ™šé¤ï¼šPier 21", desc: "Terminal 21 ç¾é£Ÿè¡—ã€‚<br>æ¨è–¦ï¼šæ‰‹æ¨™æ³°å¥¶ (Cha Tra Mue)", map: "https://www.google.com/maps/search/Terminal+21+Asoke", transport: "æ­¥è¡Œ" },
                { t: "20:00", title: "æŒ‰æ‘©æ”¾é¬†", desc: "å‰å¾€ Asoke å‘¨é‚Šæ¨è–¦æŒ‰æ‘©åº— (è©³è¦‹æŒ‰æ‘©é )ã€‚", map: "https://www.google.com/maps/search/Massage+near+Asoke", transport: "æ­¥è¡Œ" }
            ],
            2: [
                { t: "08:00", title: "å¤§åŸä¸€æ—¥éŠ (é›†åˆ)", desc: "å‰å¾€é›†åˆé» (Central World)ã€‚<br><a href='https://s.klook.com/c/my4l6MZ4wO' target='_blank' class='text-teal-600 underline font-bold'>Klook è¡Œç¨‹é€£çµ</a>", map: "https://www.google.com/maps/search/Central+World", transport: "BTS/Grab" },
                { t: "10:00", title: "å¤§åŸå¤è¹Ÿå·¡ç¦®", desc: "ç‘ªå“ˆæ³°å¯ºã€é‚¦èŠ­èŒµå¤å®®ã€‚", map: "https://www.google.com/maps/search/Ayutthaya+Historical+Park", transport: "åŒ…è»Š" },
                { t: "19:00", title: "ä¸‹è»Šï¼šå–¬å¾·å¤œå¸‚", desc: "è¡Œç¨‹çµæŸæ–¼ Jodd Fairs ä¸‹è»Šã€‚", map: "https://www.google.com/maps/search/Jodd+Fairs", transport: "åŒ…è»Š" },
                { t: "19:30", title: "æ™šé¤ï¼šå–¬å¾·å¤œå¸‚", desc: "ç«å±±æ’éª¨ã€æ°´æœå†°æ²™ã€‚", map: "https://www.google.com/maps/search/Jodd+Fairs", transport: "æ­¥è¡Œ" },
                { t: "21:30", title: "è¿”å›é£¯åº—", desc: "çµæŸå¤œå¸‚è¡Œç¨‹ï¼Œè¿”å› Asokeã€‚", transport: "MRT/Grab" }
            ],
            3: [
                { t: "09:00", title: "åƒæ‹œå››é¢ä½›", desc: "BTS Chit Lom ç«™ï¼Œå¿ƒèª å‰‡éˆã€‚", map: "https://www.google.com/maps/search/Erawan+Shrine", transport: "BTS" },
                { t: "10:30", title: "Copper Buffet", desc: "Gaysorn Amarin åˆ†åº—ã€‚ (è©³è¦‹æ”»ç•¥)", map: "https://www.google.com/maps/search/Copper+Beyond+Buffet+Gaysorn+Amarin", transport: "æ­¥è¡Œ" },
                { t: "14:30", title: "å¤§çš‡å®® & è‡¥ä½›å¯º", desc: "æ›¼è°·ç¶“å…¸å¯ºå»Ÿç¾¤ã€‚", map: "https://www.google.com/maps/search/The+Grand+Palace", transport: "BTS+èˆ¹" },
                { t: "17:00", title: "é„­ç‹å»Ÿ", desc: "æ˜­æŠ«è€¶æ²³ç•”ï¼Œæ¬£è³å¤•é™½ç¾æ™¯ã€‚", map: "https://www.google.com/maps/search/Wat+Arun", transport: "æ¸¡è¼ª" },
                { t: "19:30", title: "Iconsiam æ™šé¤ & éŠèˆ¹", desc: "é€›å®¤å…§æ°´ä¸Šå¸‚å ´ï¼Œæ™šé¤å¾Œå¯æ–¼ç¢¼é ­æ­ä¹˜éŠèˆ¹ã€‚", map: "https://www.google.com/maps/search/ICONSIAM", transport: "æ¥é§èˆ¹" },
                { t: "22:00", title: "è¿”å›é£¯åº—", desc: "æ­ä¹˜ BTS/Grab è¿”å›é£¯åº—ã€‚", transport: "BTS/Grab" }
            ],
            4: [
                { t: "07:30", title: "æ°´ä¸Šå¸‚å ´ä¸€æ—¥éŠ", desc: "å‰å¾€é›†åˆé»ã€‚<br><a href='https://s.klook.com/c/BXG5OW801n' target='_blank' class='text-teal-600 underline font-bold'>Klook è¡Œç¨‹é€£çµ</a>", map: "https://www.google.com/maps/search/Central+World", transport: "BTS/Grab" },
                { t: "10:00", title: "ä¸¹å«©èæœµæ°´ä¸Šå¸‚å ´", desc: "é«”é©—æ‰‹æ–èˆ¹ã€‚", map: "https://www.google.com/maps/search/Damnoen+Saduak+Floating+Market", transport: "åŒ…è»Š" },
                { t: "13:30", title: "ç¾åŠŸéµé“å¸‚å ´", desc: "ç«è»Šç©¿è¶Šå¥‡æ™¯ã€‚", map: "https://www.google.com/maps/search/Maeklong+Railway+Market", transport: "åŒ…è»Š" },
                { t: "19:00", title: "æ™šé¤ï¼šå»ºèˆˆé…’å®¶", desc: "Siam Square One / Central World åˆ†åº—ã€‚", map: "https://www.google.com/maps/search/Somboon+Seafood+Siam+Square+One", transport: "åŒ…è»Š/BTS" },
                { t: "20:30", title: "Big C æ¡è³¼", desc: "Chit Lom ç«™ï¼Œè²·å®Œå›é£¯åº—æ‰“åŒ…ã€‚", map: "https://www.google.com/maps/search/Big+C+Supercenter+Ratchadamri", transport: "æ­¥è¡Œ" },
                { t: "22:00", title: "è¿”å›é£¯åº—", desc: "æ­ä¹˜ BTS è¿”å› Asokeï¼Œæ•´ç†è¡Œæã€‚", transport: "BTS" }
            ],
            5: [
                { t: "09:00", title: "æ°é€”æ´½é€±æœ«å¸‚é›†", desc: "æœ€å¾Œè¡åˆºæ¡è²·ã€‚", map: "https://www.google.com/maps/search/Chatuchak+Weekend+Market", transport: "BTS/MRT" },
                { t: "12:00", title: "åˆé¤ï¼šå¸‚é›†ç¾é£Ÿ", desc: "æ¨è–¦ï¼šæ¤°å­å†°æ·‡æ·‹ã€çƒ¤è‚‰ä¸²ã€‚", map: "https://www.google.com/maps/search/Chatuchak+Weekend+Market", transport: "æ­¥è¡Œ" },
                { t: "14:00", title: "å‰å¾€æ©Ÿå ´", desc: "é ç•™æ™‚é–“å‰å¾€ BKKã€‚", map: "https://www.google.com/maps/search/Suvarnabhumi+Airport", transport: "Grab/æ©Ÿå ´å¿«ç·š" },
                { t: "17:40", title: "è¿”ç¨‹ JX746", desc: "å¹³å®‰è³¦æ­¸ã€‚", transport: "é£›æ©Ÿ" }
            ]
        };

        const michelinFood = [
            { name: "Jeh O Chula", note: "åª½åª½éºµæµ·é®®é‹ (å»ºè­°é ç´„/å¤–å¸¶)", map: "https://www.google.com/maps/search/Jeh+O+Chula" },
            { name: "Somboon Seafood", note: "å»ºèˆˆé…’å®¶ï¼Œå¿…é»å’–å“©èƒèŸ¹", map: "https://www.google.com/maps/search/Somboon+Seafood" },
            { name: "R-Haan", note: "ç±³å…¶æ—äºŒæ˜Ÿé«˜ç´šæ³°èœ", map: "https://www.google.com/maps/search/R-Haan" },
            { name: "Blue Elephant", note: "å‚³çµ±å®®å»·èœ", map: "https://www.google.com/maps/search/Blue+Elephant+Bangkok" },
            { name: "Baan Phadthai", note: "ç±³å…¶æ—æ¨è–¦æ²³ç²‰", map: "https://www.google.com/maps/maps/search/?api=1&query=Baan+Phadthai" }
        ];

        const streetFood = [
            { name: "æ³°å¼å¥¶èŒ¶", note: "Cha Tra Mue (æ‰‹æ¨™)", map: "https://www.google.com/maps/search/Cha+Tra+Mue" },
            { name: "èŠ’æœç³¯ç±³é£¯", note: "Mae Varee (Thong Lor)", map: "https://www.google.com/maps/search/Mae+Varee+Mango+Sticky+Rice" },
            { name: "é¦™è•‰ç…é¤…", note: "è·¯é‚Šæ”¤å¿…åƒ", map: "" },
            { name: "æ³°å¼èˆ¹éºµ", note: "å‹åˆ©ç´€å¿µç¢‘", map: "https://www.google.com/maps/search/Boat+Noodle+Alley" }
        ];

        // NEW: Mall Food
        const mallFood = [
            { name: "Terminal 21 - Pier 21", note: "5F ç¾é£Ÿè¡—ï¼ŒCPå€¼è¶…é«˜ï¼å¿…å–ç¾æ‰“æœæ±ã€èŠ’æœç³¯ç±³é£¯ã€‚", map: "https://www.google.com/maps/search/Pier+21+Food+Court" },
            { name: "Iconsiam - SookSiam", note: "Gæ¨“ å®¤å…§æ°´ä¸Šå¸‚å ´ï¼ŒåŒ¯é›†å…¨æ³°åœ‹ç‰¹è‰²å°åƒã€‚", map: "https://www.google.com/maps/search/SookSiam" },
            { name: "Thipsamai (Iconsiam)", note: "6F é¬¼é–€ç‚’æ²³ç²‰åˆ†åº—ï¼Œå…å»è€åº—æ’éšŠä¹‹è‹¦ã€‚", map: "https://www.google.com/maps/search/Thipsamai+Iconsiam" },
            { name: "After You (Iconsiam)", note: "6F æ³°åœ‹å¿…åƒæ—¥å¼åˆ¨å†°ï¼Œæ‹›ç‰Œèœœç³–åå¸ã€‚", map: "https://www.google.com/maps/search/After+You+Dessert+Cafe+Iconsiam" }
        ];

        const bigCItems = [
            { name: "Bento é­·é­šç‰‡", icon: "fa-shrimp", color: "text-red-500" },
            { name: "å°è€é—†æµ·è‹”", icon: "fa-leaf", color: "text-green-600" },
            { name: "çš‡å®¶èœ‚èœœ", icon: "fa-flask", color: "text-yellow-500" },
            { name: "æ‰‹æ¨™ç´…èŒ¶ç²‰", icon: "fa-mug-hot", color: "text-red-600" },
            { name: "Pocky æ³°åœ‹ç‰ˆ", icon: "fa-cookie-bite", color: "text-pink-500" },
            { name: "MAMA æ³¡éºµ", icon: "fa-bowl-food", color: "text-orange-500" },
            { name: "Counterpain", icon: "fa-briefcase-medical", color: "text-blue-600" },
            { name: "è–„è·å¸é¼»åŠ‘", icon: "fa-wind", color: "text-teal-500" },
            { name: "èˆˆå¤ªå¤ªè‚¥çš‚", icon: "fa-soap", color: "text-emerald-600" },
            { name: "è—è±¡æ–™ç†åŒ…", icon: "fa-utensils", color: "text-yellow-600" },
            { name: "è›‡ç‰Œç—±å­ç²‰", icon: "fa-snowflake", color: "text-blue-400" },
            { name: "æ¤°å­æ²¹", icon: "fa-bottle-droplet", color: "text-amber-500" },
            { name: "å¤§å“¥èŠ±ç”Ÿè±†", icon: "fa-jar", color: "text-orange-600" },
            { name: "çš‡å®¶ç‰›å¥¶ç‰‡", icon: "fa-cow", color: "text-slate-600" },
            { name: "é’è‰è†", icon: "fa-jar", color: "text-green-700" }
        ];

        const bangkokGifts = [
            { name: "NaRaYa æ›¼è°·åŒ…", icon: "fa-bag-shopping", color: "text-pink-600" },
            { name: "æ³°åœ‹çµ²ç¶¢", icon: "fa-shirt", color: "text-purple-600" },
            { name: "å¤§è±¡è¤²", icon: "fa-socks", color: "text-indigo-600" },
            { name: "é¦™æ°› / Spaç”¨å“", icon: "fa-spray-can-sparkles", color: "text-rose-500" },
            { name: "æ°´æœä¹¾", icon: "fa-lemon", color: "text-yellow-500" },
            { name: "Mistine å½©å¦", icon: "fa-palette", color: "text-fuchsia-600" }
        ];

        const massages = [
            { name: "Health Land Asoke", link: "https://www.healthlandspa.com/", map: "https://www.google.com/maps/search/Health+Land+Asoke" },
            { name: "Urban Retreat Asoke", link: "https://www.urbanretreatspa.net/", map: "https://www.google.com/maps/search/Urban+Retreat+Asoke" },
            { name: "Lek Massage Asoke", link: "https://lekmassagebangkok.com/", map: "https://www.google.com/maps/search/Lek+Massage+Asoke" },
            { name: "Let's Relax (T21)", link: "https://letsrelaxspa.com/", map: "https://www.google.com/maps/search/Lets+Relax+Spa+Terminal+21" },
            { name: "Asia Herb (Sukhumvit)", link: "https://www.asiaherbassociation.com/", map: "https://www.google.com/maps/search/Asia+Herb+Association" }
        ];

        // --- Render Logic ---
        function switchTab(id) {
            document.querySelectorAll('.tab-content').forEach(e => e.classList.remove('active'));
            const targetContent = document.getElementById(id);
            if(targetContent) targetContent.classList.add('active');
            
            document.querySelectorAll('.nav-item').forEach(e => {
                e.classList.remove('active');
                e.classList.add('text-slate-400');
            });
            const activeNavBtn = document.getElementById('tab-'+id);
            if(activeNavBtn) {
                 activeNavBtn.classList.add('active');
                 activeNavBtn.classList.remove('text-slate-400');
            }
            window.scrollTo(0,0);
        }

        // --- AI Logic ---
        function switchAiTab(tab) {
            if (tab === 'chat') {
                document.getElementById('ai-tab-chat').classList.add('border-b-2', 'border-indigo-600', 'bg-indigo-50', 'text-indigo-600');
                document.getElementById('ai-tab-chat').classList.remove('text-slate-500');
                document.getElementById('ai-tab-translate').classList.remove('border-b-2', 'border-indigo-600', 'bg-indigo-50', 'text-indigo-600');
                document.getElementById('ai-tab-translate').classList.add('text-slate-500');
                document.getElementById('ai-view-chat').classList.remove('hidden');
                document.getElementById('ai-view-translate').classList.add('hidden');
                document.getElementById('ai-input-area').classList.remove('hidden');
                document.getElementById('ai-input-area').classList.add('flex');
            } else {
                document.getElementById('ai-tab-translate').classList.add('border-b-2', 'border-indigo-600', 'bg-indigo-50', 'text-indigo-600');
                document.getElementById('ai-tab-translate').classList.remove('text-slate-500');
                document.getElementById('ai-tab-chat').classList.remove('border-b-2', 'border-indigo-600', 'bg-indigo-50', 'text-indigo-600');
                document.getElementById('ai-tab-chat').classList.add('text-slate-500');
                document.getElementById('ai-view-translate').classList.remove('hidden');
                document.getElementById('ai-view-chat').classList.add('hidden');
                document.getElementById('ai-input-area').classList.add('hidden');
                document.getElementById('ai-input-area').classList.remove('flex');
            }
        }

        async function callGemini(prompt) {
            // Using placeholder logic for client-side demo
            // In a real app, this should call a backend proxy to protect the API key
            // or use the provided environment key if available securely.
            // Since this is a static file, we will simulate a smart response.
            
            // Note: Actual API calls require a valid API Key. 
            // Since I cannot expose a real key here, this function simulates the logic.
            
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;
            
            if (!apiKey) {
                return "è«‹å…ˆè¨­å®š API Key æ‰èƒ½ä½¿ç”¨ AI åŠŸèƒ½ã€‚ (æ­¤ç‚ºæ¨¡æ“¬å›æ‡‰)";
            }

            const payload = {
                contents: [{ parts: [{ text: prompt }] }],
                systemInstruction: { parts: [{ text: "You are a helpful Bangkok travel guide for a family trip. You provide concise, practical advice, recommend food, and translate phrases to Thai when asked. Answer in Traditional Chinese (Taiwan)." }] }
            };

            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                const data = await response.json();
                return data.candidates?.[0]?.content?.parts?.[0]?.text || "æŠ±æ­‰ï¼Œæˆ‘ç¾åœ¨ç„¡æ³•å›ç­”ã€‚";
            } catch (error) {
                console.error("AI Error:", error);
                return "é€£ç·šç™¼ç”ŸéŒ¯èª¤ï¼Œè«‹ç¨å¾Œå†è©¦ã€‚";
            }
        }

        async function handleChat() {
            const input = document.getElementById('chat-input');
            const text = input.value.trim();
            if (!text) return;

            // Add User Message
            const chatView = document.getElementById('ai-view-chat');
            chatView.innerHTML += `<div class="chat-user chat-bubble">${text}</div>`;
            input.value = '';
            
            // Add Loading
            const loadingId = 'loading-' + Date.now();
            chatView.innerHTML += `
                <div id="${loadingId}" class="chat-ai chat-bubble typing-indicator">
                    <span></span><span></span><span></span>
                </div>`;
            chatView.scrollTop = chatView.scrollHeight;

            // Call API
            const response = await callGemini(text);
            
            // Remove Loading & Add Response
            document.getElementById(loadingId).remove();
            // Parse markdown simply
            const htmlResponse = marked.parse(response);
            chatView.innerHTML += `<div class="chat-ai chat-bubble prose prose-sm max-w-none">${htmlResponse}</div>`;
            chatView.scrollTop = chatView.scrollHeight;
        }

        async function handleTranslate() {
            const input = document.getElementById('trans-input');
            const text = input.value.trim();
            if (!text) return;

            const resultDiv = document.getElementById('trans-result');
            resultDiv.innerHTML = '<div class="text-center text-slate-400"><i class="fa-solid fa-spinner fa-spin mr-2"></i>ç¿»è­¯ä¸­...</div>';
            resultDiv.classList.remove('hidden');

            const prompt = `Translate this phrase to Thai: "${text}". 
            Format the output exactly like this:
            [Thai Text]
            [Thai Pronunciation (in Traditional Chinese homophones or English)]
            [Meaning]
            `;

            const response = await callGemini(prompt);
            
            // Simple format processing
            const formatted = response.replace(/\n/g, '<br>');
            
            resultDiv.innerHTML = `
                <div class="bg-indigo-50 border border-indigo-100 rounded-lg p-4 text-center">
                    <div class="text-xs text-slate-500 mb-1">ä¸­æ–‡ï¼š${text}</div>
                    <div class="text-2xl font-bold text-indigo-700 mb-2">${response.split('\n')[0] || '...'}</div>
                    <div class="text-sm text-slate-600 bg-white/50 py-1 rounded">${response}</div>
                </div>
            `;
        }


        function switchDay(day) {
            document.querySelectorAll('.day-btn').forEach(b => {
                b.className = 'day-btn flex-shrink-0 bg-white text-slate-500 border border-slate-200 px-5 py-2 rounded-full text-sm font-medium transition';
            });
            const btns = document.querySelectorAll('.day-btn');
            const dayIndex = day - 1; // Array index is 0-based
            if(btns[dayIndex]) {
                btns[dayIndex].className = 'day-btn active flex-shrink-0 bg-teal-600 text-white px-5 py-2 rounded-full text-sm font-bold shadow-md whitespace-nowrap';
            }

            const list = itineraryData[day];
            let html = `<div class="timeline-line absolute h-full border-l-2 border-slate-200 left-5 top-3 bottom-3"></div>`;
            
            list.forEach(item => {
                html += `
                <div class="relative z-10 mb-6 pl-12 pr-2 timeline-item">
                    <div class="absolute left-3 top-1 w-4 h-4 bg-white border-2 border-teal-500 rounded-full shadow-sm"></div>
                    <div class="app-card">
                        <div class="flex justify-between items-start mb-1">
                            <span class="text-xs font-bold text-teal-600 bg-teal-50 px-2 py-0.5 rounded">${item.t}</span>
                            ${item.map ? `<a href="${item.map}" target="_blank" class="text-blue-500 bg-blue-50 w-7 h-7 flex items-center justify-center rounded-full active:bg-blue-100"><i class="fa-solid fa-location-dot text-sm"></i></a>` : ''}
                        </div>
                        <h3 class="font-bold text-slate-800 text-base mb-1">${item.title}</h3>
                        ${item.transport ? `<div class="transport-badge"><i class="fa-solid fa-diamond-turn-right"></i> ${item.transport}</div>` : ''}
                        <p class="text-sm text-slate-600 leading-relaxed mt-1">${item.desc}</p>
                    </div>
                </div>`;
            });
            document.getElementById('timeline-container').innerHTML = html;
        }

        function renderFoodList(id, list) {
            let html = '';
            list.forEach(f => {
                html += `
                <div class="app-card flex justify-between items-center">
                    <div>
                        <div class="font-bold text-slate-800">${f.name}</div>
                        <div class="text-xs text-slate-500 mt-1">${f.note}</div>
                    </div>
                    ${f.map ? `<a href="${f.map}" target="_blank" class="w-9 h-9 bg-slate-50 rounded-full flex items-center justify-center text-blue-500 hover:bg-blue-50"><i class="fa-solid fa-location-dot"></i></a>` : ''}
                </div>`;
            });
            document.getElementById(id).innerHTML = html;
        }

        function renderShopping() {
            let bigCHtml = '';
            bigCItems.forEach(item => {
                bigCHtml += `
                <a href="https://www.google.com/search?tbm=isch&q=Big+C+${item.name}" target="_blank" class="product-card app-card flex flex-col items-center justify-center text-center p-3">
                    <div class="icon-box bg-teal-50 text-teal-600 mb-2">
                         <i class="fa-solid ${item.icon}"></i>
                    </div>
                    <div class="text-sm font-bold text-slate-700 leading-tight">${item.name}</div>
                </a>`;
            });
            document.getElementById('shopping-grid').innerHTML = bigCHtml;

            let giftHtml = '';
            bangkokGifts.forEach(item => {
                giftHtml += `
                <div class="app-card flex flex-col items-center justify-center text-center p-4">
                    <div class="icon-box bg-pink-50 text-pink-500 mb-2">
                         <i class="fa-solid ${item.icon}"></i>
                    </div>
                    <div class="text-sm font-bold text-slate-700">${item.name}</div>
                </div>`;
            });
            document.getElementById('bangkok-gift-grid').innerHTML = giftHtml;
        }

        function renderMassage() {
            let html = '';
            massages.forEach(m => {
                html += `
                <div class="app-card flex justify-between items-center">
                    <div class="font-bold text-slate-800">${m.name}</div>
                    <div class="flex gap-2">
                        <a href="${m.link}" target="_blank" class="bg-slate-100 text-slate-600 px-3 py-1.5 rounded-lg text-xs font-bold hover:bg-slate-200">å®˜ç¶²</a>
                        <a href="${m.map}" target="_blank" class="bg-blue-50 text-blue-600 px-3 py-1.5 rounded-lg text-xs font-bold hover:bg-blue-100"><i class="fa-solid fa-location-dot mr-1"></i></a>
                    </div>
                </div>`;
            });
            document.getElementById('massage-list').innerHTML = html;
        }

        // Init
        window.onload = function() {
            switchDay(1);
            renderFoodList('mall-food-list', mallFood);
            renderFoodList('jodd-food-list', joddFairsFood); // Add Jodd Fairs Render
            renderFoodList('michelin-list', michelinFood);
            renderFoodList('street-food-list', streetFood);
            renderShopping();
            renderMassage();
        }
    </script>
</body>
</html>
